<canvas id="lifeCanvas"></canvas>

<style>
  /* Fix the canvas to the background */
  #lifeCanvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1; /* Puts it behind everything */
    opacity: 0.3; /* Makes it subtle */
    pointer-events: none; /* Lets clicks pass through to your links */
  }
</style>

<script>
  const canvas = document.getElementById('lifeCanvas');
  const ctx = canvas.getContext('2d');
  
  let width, height, columns, rows;
  const cellSize = 20; // Size of the squares
  let grid, nextGrid;

  // Resize canvas to fill screen
  function resize() {
    width = canvas.width = window.innerWidth;
    height = canvas.height = window.innerHeight;
    columns = Math.floor(width / cellSize);
    rows = Math.floor(height / cellSize);
    initGrid();
  }

  function initGrid() {
    grid = new Array(columns).fill(null).map(() => new Array(rows).fill(0));
    nextGrid = new Array(columns).fill(null).map(() => new Array(rows).fill(0));
    
    // Randomly fill grid (density 10%)
    for (let i = 0; i < columns; i++) {
      for (let j = 0; j < rows; j++) {
        grid[i][j] = Math.random() > 0.7 ? 1 : 0;
      }
    }
  }

  function draw() {
    // Clear screen
    ctx.fillStyle = '#ffffff'; // Background color (white)
    ctx.fillRect(0, 0, width, height);
    
    // Draw live cells
    ctx.fillStyle = 'rgba(0, 0, 0, 0.10)';
    for (let i = 0; i < columns; i++) {
      for (let j = 0; j < rows; j++) {
        if (grid[i][j] === 1) {
          ctx.fillRect(i * cellSize, j * cellSize, cellSize - 1, cellSize - 1);
        }
      }
    }
  }

  function update() {
    for (let x = 0; x < columns; x++) {
      for (let y = 0; y < rows; y++) {
        let neighbors = 0;
        for (let i = -1; i <= 1; i++) {
          for (let j = -1; j <= 1; j++) {
            if (i === 0 && j === 0) continue;
            const col = (x + i + columns) % columns;
            const row = (y + j + rows) % rows;
            neighbors += grid[col][row];
          }
        }

        // Rules of Life
        if (grid[x][y] === 1 && (neighbors < 2 || neighbors > 3)) nextGrid[x][y] = 0;
        else if (grid[x][y] === 0 && neighbors === 3) nextGrid[x][y] = 1;
        else nextGrid[x][y] = grid[x][y];
      }
    }
    // Swap grids
    let temp = grid;
    grid = nextGrid;
    nextGrid = temp;
  }

  // Control the speed here (milliseconds)
  // 100 = fast (10 ticks/sec)
  // 500 = slow (2 ticks/sec)
  // 1000 = very slow (1 tick/sec)
  const tickDelay = 200; 

  function loop() {
    setTimeout(() => {
        draw();
        update();
        requestAnimationFrame(loop);
    }, tickDelay);
  }

  window.addEventListener('resize', resize);
  resize();
  loop();
</script>